import{_ as n,V as s,W as a,a0 as e}from"./framework-f06be456.js";const c={},o=e(`<h1 id="cgo" tabindex="-1"><a class="header-anchor" href="#cgo" aria-hidden="true">#</a> CGO</h1><p>cgo，是c与go之间的桥梁，既可以go调用c，也可以c调用go。go语言创始人之一肯.汤姆森同时也是c语言的作者，所以go语言能支持c语言也是合情合理。下面先来看一段简单的cgo代码。</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token comment">//#include &lt;stdio.h&gt;</span>
<span class="token keyword">import</span> <span class="token string">&quot;C&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	C<span class="token punctuation">.</span><span class="token function">puts</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span><span class="token function">CString</span><span class="token punctuation">(</span><span class="token string">&quot;hello, cgo!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>想要使用cgo特性，通过导入语句<code>import &quot;C&quot;</code>即可开启，需要注意的是<code>C</code>必须是大写字母，且导入名称无法被重写，同时需要确保环境变量<code>CGO_ENABLED</code>是否设置为<code>1</code>，在默认情况下该环境变量是默认启用的。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ go <span class="token function">env</span> <span class="token operator">|</span> <span class="token function">grep</span>  CGO
<span class="token builtin class-name">set</span> <span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>除此之外，还需要确保本地拥有<code>C/C++</code>的构建工具链，也就是<code>gcc</code>，在windows平台就是<code>mingw</code>，这样才能确保程序正常通过编译。</p>`,6),t=[o];function i(p,l){return s(),a("div",null,t)}const u=n(c,[["render",i],["__file","135.cgo.html.vue"]]);export{u as default};
